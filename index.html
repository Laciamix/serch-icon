<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>bruh</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #f0f0f0;
    font-family: Arial, sans-serif;
  }

  .search-container {
    position: relative;
    display: flex;
    align-items: center;
    background-color: #FFF;
    border-radius: 24px;
    filter: drop-shadow(0px 10px 10px rgba(0,0,0,0.1));
    justify-content: center;
    padding: 10px;
}

.search-container input {
    border: none;
    outline: none;
    font-size: 15px;
    transition: all 0.5s ease;
    width: 0;
    background: none;
    cursor: pointer;
    padding-left: 0;
}

.material-symbols-outlined {
    transform: translateX(10%);
}
</style>
</head>
<body>
  <div class="search-container" id="searchContainer">
    <span class="material-symbols-outlined">
        search
    </span>
    <input type="text" name="search" placeholder="Serch for...">
  </div>
<script>
    document.addEventListener('click', function(event) {
        var searchContainer = document.getElementById('searchContainer');
        var inputField = searchContainer.querySelector('input');
        if (!searchContainer.contains(event.target)) {
          inputField.style.width = '0';
          inputField.blur();
        } else if (event.target === inputField) {
          inputField.style.width = '200px';
        }
    });

    document.getElementById('searchContainer').addEventListener('mouseover', function(event) {
        var searchContainer = document.getElementById('searchContainer');
        var inputField = searchContainer.querySelector('input');
        inputField.style.width = '40vw';
    });
  
    document.getElementById('searchContainer').addEventListener('mouseleave', function(event) {
        var searchContainer = document.getElementById('searchContainer');
        var inputField = searchContainer.querySelector('input');
        inputField.style.width = '0';
        inputField.blur();
    });

    const inputField = document.querySelector('.search-container input');
    let dotCount = 0;
    let increasing = true;

    function animatePlaceholder() {
        const dots = '.'.repeat(dotCount);
        inputField.setAttribute('placeholder', `Serch for${dots}`);

        if (increasing) {
            dotCount++;
            if (dotCount === 6) {
                increasing = false;
            }
        } else {
            dotCount--;
            if (dotCount === 0) {
                increasing = true;
            }
        }
    }

    setInterval(animatePlaceholder, 500);

    let originalTitle = document.title;

    function handleVisibilityChange() {
        if (document.visibilityState === 'hidden') {
            document.title = '行かないで; ;';
        } else {
            document.title = originalTitle;
        }
    }

    document.addEventListener('visibilitychange', handleVisibilityChange);
</script>
</body>
</html>